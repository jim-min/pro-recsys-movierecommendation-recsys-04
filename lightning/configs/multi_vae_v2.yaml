# MultiVAE Improved Configuration
# EASE 대비 성능 개선 목표 (Recall@10: 0.13 → 0.16+)

defaults:
  - common/default_setup

# 모델 이름 (Hydra 로그 디렉토리 구조)
model_name: multi-vae

# 데이터 설정
data:
  data_dir: "~/data/train/"
  data_file: "train_ratings.csv"
  batch_size: 128                    # sparse data에서 작은 배치 선호
  valid_ratio: 0.1
  min_interactions: 5
  seed: 42
  split_strategy: "leave_one_out"    # "random", "leave_one_out", "temporal_user", "temporal_global"
  temporal_split_ratio: 0.9          # temporal split용

# 모델 설정
model:
  hidden_dims: [600, 200]            # Encoder: items→600→200, Decoder: 200→600→items
  dropout: 0.5                       # 

# 학습 설정
training:
  max_epochs: 500
  lr: 1e-3                           # 0.001
  weight_decay: 0.0                 # 
  kl_max_weight: 0.2                 # KL divergence weight (MultiVAE 논문 기준)
  kl_anneal_steps: 20000             # KL annealing steps (천천히)

  # Early stopping
  early_stopping: true
  early_stopping_patience: 20        # 20 epoch 동안 개선 없으면 중단

# 추론 설정
inference:
  checkpoint_path: null              # Path to checkpoint (null = use last.ckpt)
  topk: 10                           # Number of items to recommend
  batch_size: 256                    # Inference batch size
